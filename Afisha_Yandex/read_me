Часть 1: Анализ данных с помощью SQL и создание дашборда в DataLens.

Представлены данными сервиса Яндекс Афиша. С его помощью пользователи могут узнавать информацию о мероприятиях 
в разных городах и покупать на них билеты. Сервис сотрудничает с партнёрами — организаторами мероприятий и билетными операторами, 
которые предоставляют информацию о событиях и выставляют билеты на продажу.
Необходимо выяснить в предверии праздников причины изменения цены на различные мероприятия в ноябре 2024 года
Может, сработал фактор сезонности, и пользователи поменяли предпочтения? Или изменилась аудитория? 
Стоит также разобраться, какие события стали привлекать больше зрителей, а какие организаторы и площадки выбились в лидеры. 
А также понять, отличаются ли своей активностью пользователи мобильных устройств от клиентов, которые бронируют билеты 
со стационарного компьютера.
Близится период распродаж и новогодних акций, и сервис должен основательно к нему подготовиться. 
Чтобы принимать взвешенные решения, нужна детальная аналитика и убедительные инсайты.
Необходимо разработать аналитический дашборд в Yandex DataLens. С его помощью команда сможет отслеживать динамику ключевых бизнес-показателей, 
анализировать популярность мероприятий и структуру выручки в разрезе категорий событий и устройств.

Описание данных
Схема afisha базы данных data-analyst-afisha содержит пять таблиц:
purchases — информация о заказах билетов.
events — данные о мероприятиях, доступных на платформе.
venues — сведения о площадках проведения мероприятий.
regions— список регионов, в которых проводятся мероприятия.
city — список городов, относящихся к регионам.
Таблица purchases
Таблица содержит информацию о заказах билетов:
order_id — уникальный идентификатор заказа.
user_id — уникальный идентификатор пользователя.
created_dt_msk — дата создания заказа (московское время).
created_ts_msk — дата и время создания заказа (московское время).
event_id — идентификатор мероприятия из таблицы events.
cinema_circuit — сеть кинотеатров. Если не применимо, то здесь будет значение 'нет'.
age_limit — возрастное ограничение мероприятия.
currency_code — валюта оплаты, например rub для российских рублей.
device_type_canonical — тип устройства, с которого был оформлен заказ, например mobile для мобильных устройств, desktop для стационарных.
revenue — выручка от заказа.
service_name — название билетного оператора.
tickets_count — количество купленных билетов.
total — общая сумма заказа.
Таблица events
Таблица содержит данные о мероприятиях:
event_id — уникальный идентификатор мероприятия.
event_name_code — название мероприятия в закодированном виде.
event_type_description — описание мероприятия.
event_type_main — основной тип мероприятия: театральная постановка, концерт и так далее.
organizers — организаторы мероприятия.
city_id — идентификатор города проведения мероприятия из таблицы cities.
venue_id — идентификатор площадки проведения мероприятия из таблицы venues.
Таблица venues
Таблица содержит сведения о площадках проведения мероприятий:
venue_id — уникальный идентификатор площадки.
venue_name — название площадки.
address — адрес площадки.
Таблица city
Таблица содержит список городов:
city_id — уникальный идентификатор города.
city_name — название города.
region_id — идентификатор региона, к которому относится город, из таблицы regions.
Таблица regions
Таблица содержит список регионов:
region_id — уникальный идентификатор региона.
region_name — название региона.

Изучаем ключевые метрики продукта
Напомним, что коллеги из продуктового отдела просили разработать аналитический дашборд. С его помощью они хотят отслеживать динамику ключевых бизнес-показателей, анализировать популярность мероприятий и структуру выручки в разрезе категорий событий и устройств. Однако прежде чем приступать к созданию дашборда, разберитесь, какие метрики можно считать ключевыми, а затем найдите их значения с помощью SQL-запросов.
Из чего может состоять доход сервиса, аналогичного Яндекс Афише:
- Комиссия от продажи билетов. Это основной источник дохода или основная часть выручки сервиса. Сервис берёт процент от суммы с каждого забронированного билета. Комиссия может зависеть от типа мероприятия, региона и условий с партнёрами.
- Сервисный сбор. В зависимости от условий бронирования билетов и соглашений с партнёрами сервисный сбор может включаться в стоимость билета. Как правило, сервисный сбор берётся за обработку заказа, например за возможность вернуть билет, подключить уведомления и так далее. Сервисный сбор также может составлять определённую часть дохода сервиса и включаться в выручку компании.
- Платное размещение объявлений и премиум-программы для партнёров. Организаторы могут оформить дополнительный пакет услуг: продвижение объявлений в выдаче, расширенное описание мероприятий или дополнительная аналитика.
- Партнёрские программы и реклама. Сервис может получать доход от сотрудничества с другими компаниями, платёжными площадками, а также от размещения рекламных материалов.
